(function(t){function e(e){for(var a,i,s=e[0],c=e[1],l=e[2],h=0,f=[];h<s.length;h++)i=s[h],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/telescope/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"028a":function(t,e,n){},"03f6":function(t,e,n){"use strict";n("028a")},"1afd":function(t,e,n){},"33a9":function(t,e,n){},"35a5":function(t,e,n){"use strict";n("33a9")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={id:"nav"},o=Object(a["g"])("Universe-Maker"),i=Object(a["g"])(" | "),s=Object(a["g"])("Starmap");function c(t,e){var n=Object(a["y"])("router-link"),c=Object(a["y"])("router-view");return Object(a["r"])(),Object(a["e"])(a["a"],null,[Object(a["h"])("div",r,[Object(a["h"])(n,{to:"/"},{default:Object(a["D"])((function(){return[o]})),_:1}),i,Object(a["h"])(n,{to:"/starmap"},{default:Object(a["D"])((function(){return[s]})),_:1})]),Object(a["h"])(c)],64)}n("71e4");const l={};l.render=c;var u=l,h=n("6c02");function f(t,e,n,r,o,i){var s=Object(a["y"])("Starmap");return Object(a["r"])(),Object(a["e"])(s)}var v=Object(a["F"])("data-v-464b0425");Object(a["u"])("data-v-464b0425");var b=Object(a["h"])("p",null,"Starmap",-1),p={class:"starmap-container"},g={key:0,class:"starmap-blur"};Object(a["s"])();var d=v((function(t,e,n,r,o,i){var s=Object(a["y"])("StarInfo"),c=Object(a["y"])("StarQuickInfo");return Object(a["r"])(),Object(a["e"])(a["a"],null,[b,Object(a["h"])("p",null,"origX: "+Object(a["A"])(r.origX),1),Object(a["h"])("p",null,"origY: "+Object(a["A"])(r.origY),1),Object(a["h"])("div",p,[Object(a["h"])(a["b"],{name:"blur"},{default:v((function(){return[r.interactionLocked?(Object(a["r"])(),Object(a["e"])("div",g)):Object(a["f"])("",!0)]})),_:1}),Object(a["h"])("canvas",{id:"starmap",class:"starmap",height:1e4,width:1e4,onWheel:e[1]||(e[1]=Object(a["E"])((function(){return r.handleZoom&&r.handleZoom.apply(r,arguments)}),["prevent"]))},null,32),r.selectedStar?(Object(a["r"])(),Object(a["e"])(s,{key:0,class:"starinfo",style:{left:"".concat(r.selectedStar.screenPoint.x-350,"px"),top:"".concat(r.selectedStar.screenPoint.y-800,"px")},star:r.selectedStar.star,onStarInfoClosed:r.starInfoClosed},null,8,["style","star","onStarInfoClosed"])):Object(a["f"])("",!0),r.hoveredStar?(Object(a["r"])(),Object(a["e"])(c,{key:1,class:"star-quickinfo",style:{left:"".concat(r.hoveredStar.screenPoint.x+30,"px"),top:"".concat(r.hoveredStar.screenPoint.y-40,"px")},star:r.hoveredStar.star},null,8,["style","star"])):Object(a["f"])("",!0)])],64)})),O=n("b85c"),m=(n("159b"),n("d3b7"),n("ddb0"),n("d81d"),n("d4ec")),j=n("bee2"),y=(n("cb29"),function(t,e,n,a,r,o){var i=(t.clientX-e.parentNode.getBoundingClientRect().left)*(1/o),s=(t.clientY-e.parentNode.getBoundingClientRect().top)*(1/o),c=i-(n.position.x-a),l=s-(n.position.y-r);return Math.pow(c,2)+Math.pow(l,2)<Math.pow(n.position.size,2)}),S=function(t,e,n,a){return{x:(t.position.x-e)*a,y:(t.position.y-n)*a}},k=function(){function t(e,n,a,r,o){Object(m["a"])(this,t),this.star=n,this.canDisplayInfo=!1,this.canvas=e,this.controls=a,this.canvasWidth=r,this.canvasHeight=o}return Object(j["a"])(t,[{key:"draw",value:function(){var t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.star.position.x,this.star.position.y,this.star.position.size,0,2*Math.PI),t.fillStyle=this.star.style.color,t.fill(),t.closePath()}},{key:"onMouseDown",value:function(t){y(t,this.canvas,this.star,this.controls.getCurrentOrigX(),this.controls.getCurrentOrigY(),this.controls.getCurrentScale())&&(this.canDisplayInfo=!0)}},{key:"onMouseMove",value:function(t){return y(t,this.canvas,this.star,this.controls.getCurrentOrigX(),this.controls.getCurrentOrigY(),this.controls.getCurrentScale())?{star:this.star,screenPoint:S(this.star,this.controls.getCurrentOrigX(),this.controls.getCurrentOrigY(),this.controls.getCurrentScale())}:null}},{key:"onMouseUp",value:function(t){return this.canDisplayInfo&&y(t,this.canvas,this.star,this.controls.getCurrentOrigX(),this.controls.getCurrentOrigY(),this.controls.getCurrentScale())?(this.canDisplayInfo=!1,this.controls.scrollToOrig(this.star.position.x-this.canvasWidth*(1/this.controls.getCurrentScale())*.5,this.star.position.y-this.canvasHeight*(1/this.controls.getCurrentScale())*.75),{star:this.star,screenPoint:S(this.star,this.controls.getCurrentOrigX(),this.controls.getCurrentOrigY(),this.controls.getCurrentScale())}):(this.canDisplayInfo=!1,null)}}]),t}(),M=(n("7db0"),n("b0c0"),function(t){switch(t){case _.SMALL:return{strokeStyle:"#7a328a",lineWidth:1,arrowLength:8,arrowSize:8};case _.MEDIUM:return{strokeStyle:"#b44bcb",lineWidth:2,arrowLength:10,arrowSize:10};default:return console.error("unknown gate tier: ".concat(t)),null}}),w=function(t,e){var n=e.find((function(e){return e.name===t}));return n||console.error("cannot find target: ".concat(t)),n},I=function(t,e,n,a,r,o,i,s){var c=r-e,l=o-n,u=Math.atan2(l,c),h=Math.sqrt(c*c+l*l),f=0+a,v=h-i;t.save(),t.translate(e,n),t.rotate(u),t.beginPath(),t.lineWidth=s.lineWidth,t.strokeStyle=s.strokeStyle,t.moveTo(f,0),t.lineTo(v,0),t.moveTo(v-s.arrowLength,-s.arrowSize),t.lineTo(v,0),t.lineTo(v-s.arrowLength,s.arrowSize),t.stroke(),t.closePath(),t.restore()},x=function t(e,n,a,r){Object(m["a"])(this,t);var o=M(n.tier);if(o){var i=w(n.target,r);if(i){var s=e.getContext("2d");I(s,a.position.x,a.position.y,a.position.size,i.position.x,i.position.y,i.position.size,o)}}},_={SMALL:"SMALL",MEDIUM:"MEDIUM"},C=function(){function t(e,n,a,r,o,i){Object(m["a"])(this,t),this.zoomIntensity=.2,this.ctx=e,this.canvas=n,this.isDragging=!1,this.origX=a,this.origY=r,this.zoomLevel=0,this.scale=1,this.canvasWidth=o,this.canvasHeight=i}return Object(j["a"])(t,[{key:"getCurrentScale",value:function(){return this.scale}},{key:"getCurrentOrigX",value:function(){return this.origX}},{key:"getCurrentOrigY",value:function(){return this.origY}},{key:"scrollToOrig",value:function(t,e){this.ctx.translate(this.origX-t,this.origY-e),this.origX=t,this.origY=e}},{key:"onMouseDown",value:function(t){this.dragX=t.offsetX,this.dragY=t.offsetY,this.isDragging=!0}},{key:"onMouseLeave",value:function(){this.isDragging=!1}},{key:"onMouseMove",value:function(t){this.isDragging&&(this.handleMouseMoveForDimension(t,"X"),this.handleMouseMoveForDimension(t,"Y"))}},{key:"handleMouseMoveForDimension",value:function(t,e){var n="X"===e,a=n?this.canvas.width:this.canvas.height,r=(n?this.canvasWidth:this.canvasHeight)/this.scale,o=0!==this["orig".concat(e)],i=this["orig".concat(e)]+r!==a,s=t["offset".concat(e)],c=(this["drag".concat(e)]-s)*(0===this.zoomLevel?1:this.zoomLevel<0?-this.zoomLevel:1/this.zoomLevel);if(o&&i||!o&&c>0||!i&&c<0){var l=this["orig".concat(e)]+c;l<0?c=-this["orig".concat(e)]:l+r>a&&(c=a-this["orig".concat(e)]-r),this.ctx.translate(n?-c:0,"Y"===e?-c:0),this["orig".concat(e)]+=c,this["drag".concat(e)]=s}}},{key:"onMouseUp",value:function(){this.isDragging=!1}},{key:"zoomAt",value:function(t){var e=t.offsetX,n=t.offsetY,a=t.deltaY<0?1:-1;this.zoomLevel+=a;var r=Math.exp(a*this.zoomIntensity);if(this.zoomLevel<-5)this.zoomLevel+=1;else if(this.zoomLevel>5)this.zoomLevel-=1;else{if(this.ctx.translate(this.origX,this.origY),this.origX-=e/(this.scale*r)-e/this.scale,this.origY-=n/(this.scale*r)-n/this.scale,this.origX<0)this.origX=0;else{var o=this.canvasWidth/(this.scale*r);this.origX+o>this.canvas.width&&(this.origX=this.canvas.width-o)}if(this.origY<0)this.origY=0;else{var i=this.canvasHeight/(this.scale*r);this.origY+i>this.canvas.height&&(this.origY=this.canvas.height-i)}this.ctx.scale(r,r),this.ctx.translate(-this.origX,-this.origY),this.scale*=r}}}]),t}(),L=Object(a["F"])("data-v-5ac3efc7");Object(a["u"])("data-v-5ac3efc7");var P={class:"star-info"},A=Object(a["h"])("span",null,"X",-1),X={class:"star-info__content"},Y={class:"star-info__text star-info__star-name"},D={key:0},z=Object(a["h"])("p",{class:"star-info__text star-info__list-label"},"Gates:",-1),N={class:"star-info__text"},E={key:1},T=Object(a["h"])("p",{class:"star-info__text star-info__list-label"},"Planets:",-1),W={class:"star-info__text"},U={class:"star-info__text"},F=Object(a["h"])("div",{class:"star-info__visit-system-link"},[Object(a["h"])("span",null,"Visit System")],-1);Object(a["s"])();var H=L((function(t,e,n,r,o,i){return Object(a["r"])(),Object(a["e"])("div",P,[Object(a["h"])("div",{class:"star-info__close-button",onClick:e[1]||(e[1]=function(){return r.close&&r.close.apply(r,arguments)})},[A]),Object(a["h"])("div",X,[Object(a["h"])("p",Y,Object(a["A"])(n.star.name),1),n.star.gates.length>0?(Object(a["r"])(),Object(a["e"])("div",D,[z,(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(n.star.gates,(function(t){return Object(a["r"])(),Object(a["e"])("div",{class:"star-info__list-item",key:t.name},[Object(a["h"])("p",N,Object(a["A"])(t.name)+" : "+Object(a["A"])(n.star.name)+" => "+Object(a["A"])(t.target),1)])})),128))])):Object(a["f"])("",!0),n.star.planets.length>0?(Object(a["r"])(),Object(a["e"])("div",E,[T,(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(n.star.planets,(function(t){return Object(a["r"])(),Object(a["e"])("div",{class:"star-info__list-item",key:t.officialName},[Object(a["h"])("p",W,"Official name: "+Object(a["A"])(t.officialName),1),Object(a["h"])("p",U,"Name: "+Object(a["A"])(t.name),1)])})),128))])):Object(a["f"])("",!0)]),F])})),R={name:"StarInfo",props:{star:Object},setup:function(t,e){var n=e.emit,a=function(){return n("starInfoClosed")};return{close:a}}};n("03f6");R.render=H,R.__scopeId="data-v-5ac3efc7";var G=R,q=Object(a["F"])("data-v-6c3ce3f3");Object(a["u"])("data-v-6c3ce3f3");var B={class:"star-quickinfo"};Object(a["s"])();var J=q((function(t,e,n,r,o,i){return Object(a["r"])(),Object(a["e"])("div",B,[Object(a["h"])("span",null,Object(a["A"])(n.star.name),1)])})),Z={name:"StarInfo",props:{star:Object}};n("b721");Z.render=J,Z.__scopeId="data-v-6c3ce3f3";var Q=Z,V=(n("96cf"),regeneratorRuntime.mark(K));function K(t,e){var n,a,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:n=Object(O["a"])(t),o.prev=1,n.s();case 3:if((a=n.n()).done){o.next=9;break}return r=a.value,o.next=7,e(r);case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o["catch"](1),n.e(o.t0);case 14:return o.prev=14,n.f(),o.finish(14);case 17:case"end":return o.stop()}}),V,null,[[1,11,14,17]])}function $(t,e,n){var a,r=Object(O["a"])(K(t,n));try{for(r.s();!(a=r.n()).done;){var o=a.value;if(e(o))return o}}catch(i){r.e(i)}finally{r.f()}}var tt=1800,et=1100,nt=3e3,at=4200,rt={stars:[{name:"Sol",style:{color:"#f3d98a"},position:{x:5e3,y:5e3,size:10},planets:[{name:"Merkur",officialName:"Sol-1"},{name:"Venus",officialName:"Sol-2"},{name:"Erde",officialName:"Sol-3"},{name:"Mars",officialName:"Sol-4"},{name:"Jupiter",officialName:"Sol-5"},{name:"Saturn",officialName:"Sol-6"},{name:"Uranus",officialName:"Sol-7"},{name:"Neptun",officialName:"Sol-8"}],gates:[{name:"First Contact",target:"Alpha I",tier:"SMALL"},{name:"New Horizon",target:"Alpha II",tier:"MEDIUM"}]},{name:"Alpha I",style:{color:"#9fac5d"},position:{x:4300,y:4500,size:20},planets:[{name:"unknown",officialName:"Alpha I-1"}],gates:[{name:"Gate I",target:"Alpha II",tier:"SMALL"}]},{name:"Alpha II",style:{color:"#9fac5d"},position:{x:3300,y:5200,size:18},planets:[{name:"unknown",officialName:"Alpha II-1"},{name:"unknown",officialName:"Alpha II-2"}],gates:[{name:"Gate I",target:"Alpha I",tier:"SMALL"},{name:"Gate II",target:"Sol",tier:"MEDIUM"}]}]},ot={name:"Starmap",components:{StarInfo:G,StarQuickInfo:Q},setup:function(){var t,e,n,r=[],o=Object(a["w"])(!1),i=Object(a["w"])(),s=Object(a["w"])(),c=Object(a["w"])(),l=Object(a["w"])(),u=function(){e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),e.restore(),e.beginPath(),e.rect(0,0,t.width,t.height),e.strokeStyle="rgba(212,29,29,1)",e.lineWidth=1/n.getCurrentScale()*20,e.stroke(),e.closePath();var a,o=Object(O["a"])(Array(9).keys());try{for(o.s();!(a=o.n()).done;){var i=a.value;e.beginPath(),e.moveTo(t.width*parseFloat("0.".concat(i+1)),0),e.lineTo(t.width*parseFloat("0.".concat(i+1)),t.height),e.strokeStyle="rgba(126,126,126,0.3)",e.lineWidth=1,e.stroke(),e.closePath()}}catch(u){o.e(u)}finally{o.f()}var s,c=Object(O["a"])(Array(9).keys());try{for(c.s();!(s=c.n()).done;){var l=s.value;e.beginPath(),e.moveTo(0,t.height*parseFloat("0.".concat(l+1))),e.lineTo(t.width,t.height*parseFloat("0.".concat(l+1))),e.strokeStyle="rgba(126,126,126,0.3)",e.lineWidth=1,e.stroke(),e.closePath()}}catch(u){c.e(u)}finally{c.f()}rt.stars.forEach((function(e){return e.gates.forEach((function(n){return new x(t,n,e,rt.stars)}))})),r.forEach((function(t){return t.draw()}))};Object(a["p"])((function(){t=document.getElementById("starmap"),e=t.getContext("2d"),n=new C(e,t,nt,at,tt,et),setInterval((function(){c.value=n.getCurrentOrigX(),l.value=n.getCurrentOrigY()}),50),t.addEventListener("mousedown",(function(t){t.preventDefault(),o.value||(n.onMouseDown(t),r.forEach((function(e){return e.onMouseDown(t)})))})),t.addEventListener("mouseleave",(function(){n.onMouseLeave()})),t.addEventListener("mousemove",(function(t){if(t.preventDefault(),!o.value){n.onMouseMove(t),s.value=null;var e=$(r,(function(t){return null!=t}),(function(e){return e.onMouseMove(t)}));e&&(console.log(e),s.value=e)}})),t.addEventListener("mouseup",(function(t){if(t.preventDefault(),!o.value){n.onMouseUp();var e=$(r,(function(t){return null!=t}),(function(e){return e.onMouseUp(t)}));e&&(s.value=null,i.value=e,o.value=!0)}})),r=rt.stars.map((function(e){return new k(t,e,n,tt,et)})),e.translate(-nt,-at),setInterval((function(){return u(n)}),800/60)}));var h=function(t){o.value||n.zoomAt(t)},f=function(){i.value=null,o.value=!1};return{handleZoom:h,interactionLocked:o,starInfoClosed:f,selectedStar:i,hoveredStar:s,origX:c,origY:l}}};n("35a5");ot.render=d,ot.__scopeId="data-v-464b0425";var it=ot,st={name:"Home",components:{Starmap:it}};st.render=f;var ct=st,lt=Object(a["h"])("h1",null,"Universe-Maker",-1),ut=Object(a["h"])("h3",null,"WIP - Management-Tool für Sci-Fi P&P-Universen",-1);function ht(t,e,n,r,o,i){return Object(a["r"])(),Object(a["e"])(a["a"],null,[lt,ut],64)}var ft={name:"Home"};ft.render=ht;var vt=ft,bt=n("5f35"),pt=[{path:"/",name:"home",component:vt},{path:"/starmap",name:"Starmap",component:ct}],gt=Object(h["a"])({history:Object(h["b"])(bt["publicPath"]),routes:pt}),dt=gt,Ot=n("5502"),mt=Object(Ot["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["d"])(u).use(mt).use(dt).mount("#app")},"5f35":function(t,e,n){t.exports={publicPath:"/telescope/"}},"71e4":function(t,e,n){"use strict";n("1afd")},b721:function(t,e,n){"use strict";n("f72a")},f72a:function(t,e,n){}});
//# sourceMappingURL=app.1240faae.js.map